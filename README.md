# シェア家計簿（React + Supabase）

## 概要

「わけぽん」は、世帯単位で支出を共有・管理するWebアプリケーションです。
複数人での生活費管理を効率化し、月末の精算を自動化します。
（自己学習用を目的としたプロジェクトなのでローカル開発環境のみで動作します）

## 主要機能

### 世帯管理機能
- **世帯作成・管理**: 共有グループの作成と管理
- **メンバー招待システム**: メールベースの招待コード送信機能
- **マルチユーザー対応**: 世帯メンバー全員による支出記録の共有

### 支出管理機能
- **支出記録**: 日付、金額、カテゴリ、メモの登録
- **カテゴリ分類**: 支出の用途別分類（食費、日用品、光熱費等）
- **期間別表示**: 過去12ヶ月分のデータを月単位で表示
- **リアルタイム同期**: メンバー間での即時データ反映

### 集計・精算機能
- **月別集計**: 選択月の総支出額の自動計算
- **個人別集計**: メンバーごとの支払額の可視化
- **精算額自動計算**: 最適な精算金額の算出
- **精算最適化**: 送金回数を最小化するアルゴリズムの実装

### 認証・セキュリティ
- **OTP認証**: メールアドレスベースのワンタイムパスワード認証
- **セキュアな招待機能**: 有効期限付き招待コードによる安全なメンバー追加
- **行レベルセキュリティ**: PostgreSQLのRLSによるデータアクセス制御

## 技術構成

### フロントエンド
- **React 19**: UIライブラリ
- **TypeScript**: 型安全性を確保した開発
- **Vite**: 高速ビルドツール
- **React Router DOM**: クライアントサイドルーティング
- **React Hook Form**: フォーム状態管理
- **CSS Variables**: レスポンシブデザイン実装

### バックエンド
- **Supabase**: Backend as a Service
  - PostgreSQL: リレーショナルデータベース
  - Auth: 認証管理サービス
  - Storage: ファイルストレージ
  - Edge Functions: サーバーレス関数
  - Row Level Security: データアクセス制御

### 開発環境
- **Vitest**: テスティングフレームワーク
- **ESLint**: 静的コード解析
- **Deno**: Edge Functions実行環境

## アーキテクチャ設計

### データベース設計
- 正規化されたテーブル構造（users、households、expenses等）
- 外部キー制約による参照整合性の保証
- トリガーによる自動タイムスタンプ更新

### セキュリティ設計
- Supabase RLSポリシーによる厳格なアクセス制御
- 招待コードの有効期限管理
- セッション管理とブラウザバック対策の実装

### パフォーマンス最適化
- 月別データのクライアントサイドキャッシング
- 効率的なデータベースクエリの実装
- React 19の並行レンダリング機能の活用

## 今後の実装予定

- 予算管理・アラート機能
- レシート画像のOCR機能
- カテゴリのカスタマイズ機能
- 定期支出の自動登録
